<!DOCTYPE html>

<html>

<head>

	<title> Round 2 | Experiment 4</title>
	<script src="lib/jquery-3.1.0.js"></script>

</head>

<body>
    <canvas id="myCanvas" width="10000" height="900"></canvas>

    <script>
    	function getSquare(canvas, evt) {
    	var rect = canvas.getBoundingClientRect();
    		return {
       			x: 1 + (evt.clientX - rect.left) - (evt.clientX - rect.left)%30,
        		y: 1 + (evt.clientY - rect.top) - (evt.clientY - rect.top)%30
    		};
		}

		function drawGrid(context) {
    		for (var x = 0.5; x < 10001; x += 30) {
      		context.moveTo(x, 0);
      		context.lineTo(x, 10000);
    		}
    
    		for (var y = 0.5; y < 10001; y += 30) {
      		context.moveTo(0, y);
      		context.lineTo(10000, y);
    		}
    
   			context.strokeStyle = "#F08080";
    		context.stroke();
		}

		function getRandomColor() {
	  	var letters = '0123456789ABCDEF';
	  	var color = '#';
	  	for (var i = 0; i < 6; i++) {
	    	color += letters[Math.floor(Math.random() * 16)];
	  	}
	  		return color;
		}

		function fillSquare(context, x, y){
    		context.fillStyle = getRandomColor()
    		context.fillRect(x,y,29,29);
		}

		var canvas = document.getElementById('myCanvas');
		var context = canvas.getContext('2d');

		drawGrid(context);

		canvas.addEventListener('click', function(evt) {
    		var mousePos = getSquare(canvas, evt);
    		fillSquare(context, mousePos.x, mousePos.y)
		}, false);

	</script>

</body>

</html>